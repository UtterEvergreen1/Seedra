#include "LegacyCubiomes/chunk_generator/Chunk.hpp"
#include <fstream>
#include <filesystem>
#include <cstdlib>

#include "LegacyCubiomes/chunk_generator/World.hpp"
#include "LegacyCubiomes/chunk_generator/biome.hpp"

#include "LegacyCubiomes/structures/gen/village/village.hpp"
#include "LegacyCubiomes/structures/placement/StaticStructures.hpp"

namespace fs = std::filesystem;


std::vector<std::pair<bool, Pos2D> > chunkOrder = {
    {true, {-12, -11}},
    {true, {-12, -10}},
    {true, {-12, -9}},
    {true, {-12, -8}},
    {true, {-12, -7}},
    {true, {-12, -6}},
    {true, {-12, -5}},
    {true, {-12, -4}},
    {true, {-12, -3}},
    {true, {-12, -2}},
    {true, {-12, -1}},
    {true, {-12, 0}},
    {true, {-12, 1}},
    {true, {-12, 2}},
    {true, {-12, 3}},
    {true, {-12, 4}},
    {true, {-12, 5}},
    {true, {-12, 6}},
    {true, {-12, 7}},
    {true, {-12, 8}},
    {true, {-12, 9}},
    {true, {-12, 10}},
    {true, {-12, 11}},
    {true, {-12, 12}},
    {true, {-11, -12}},
    {true, {-11, -11}},
    {false, {-12, -12}},
    {true, {-11, -10}},
    {false, {-12, -11}},
    {true, {-11, -9}},
    {false, {-12, -10}},
    {true, {-11, -8}},
    {false, {-12, -9}},
    {true, {-11, -7}},
    {false, {-12, -8}},
    {true, {-11, -6}},
    {false, {-12, -7}},
    {true, {-11, -5}},
    {false, {-12, -6}},
    {true, {-11, -4}},
    {false, {-12, -5}},
    {true, {-11, -3}},
    {false, {-12, -4}},
    {true, {-11, -2}},
    {false, {-12, -3}},
    {true, {-11, -1}},
    {false, {-12, -2}},
    {true, {-11, 0}},
    {false, {-12, -1}},
    {true, {-11, 1}},
    {false, {-12, 0}},
    {true, {-11, 2}},
    {false, {-12, 1}},
    {true, {-11, 3}},
    {false, {-12, 2}},
    {true, {-11, 4}},
    {false, {-12, 3}},
    {true, {-11, 5}},
    {false, {-12, 4}},
    {true, {-11, 6}},
    {false, {-12, 5}},
    {true, {-11, 7}},
    {false, {-12, 6}},
    {true, {-11, 8}},
    {false, {-12, 7}},
    {true, {-11, 9}},
    {false, {-12, 8}},
    {true, {-11, 10}},
    {false, {-12, 9}},
    {true, {-11, 11}},
    {false, {-12, 10}},
    {true, {-11, 12}},
    {false, {-12, 11}},
    {true, {-10, -12}},
    {true, {-10, -11}},
    {false, {-11, -12}},
    {true, {-10, -10}},
    {false, {-11, -11}},
    {true, {-10, -9}},
    {false, {-11, -10}},
    {true, {-10, -8}},
    {false, {-11, -9}},
    {true, {-10, -7}},
    {false, {-11, -8}},
    {true, {-10, -6}},
    {false, {-11, -7}},
    {true, {-10, -5}},
    {false, {-11, -6}},
    {true, {-10, -4}},
    {false, {-11, -5}},
    {true, {-10, -3}},
    {false, {-11, -4}},
    {true, {-10, -2}},
    {false, {-11, -3}},
    {true, {-10, -1}},
    {false, {-11, -2}},
    {true, {-10, 0}},
    {false, {-11, -1}},
    {true, {-10, 1}},
    {false, {-11, 0}},
    {true, {-10, 2}},
    {false, {-11, 1}},
    {true, {-10, 3}},
    {false, {-11, 2}},
    {true, {-10, 4}},
    {false, {-11, 3}},
    {true, {-10, 5}},
    {false, {-11, 4}},
    {true, {-10, 6}},
    {false, {-11, 5}},
    {true, {-10, 7}},
    {false, {-11, 6}},
    {true, {-10, 8}},
    {false, {-11, 7}},
    {true, {-10, 9}},
    {false, {-11, 8}},
    {true, {-10, 10}},
    {false, {-11, 9}},
    {true, {-10, 11}},
    {false, {-11, 10}},
    {true, {-10, 12}},
    {false, {-11, 11}},
    {true, {-9, -12}},
    {true, {-9, -11}},
    {false, {-10, -12}},
    {true, {-9, -10}},
    {false, {-10, -11}},
    {true, {-9, -9}},
    {false, {-10, -10}},
    {true, {-9, -8}},
    {false, {-10, -9}},
    {true, {-9, -7}},
    {false, {-10, -8}},
    {true, {-9, -6}},
    {false, {-10, -7}},
    {true, {-9, -5}},
    {false, {-10, -6}},
    {true, {-9, -4}},
    {false, {-10, -5}},
    {true, {-9, -3}},
    {false, {-10, -4}},
    {true, {-9, -2}},
    {false, {-10, -3}},
    {true, {-9, -1}},
    {false, {-10, -2}},
    {true, {-9, 0}},
    {false, {-10, -1}},
    {true, {-9, 1}},
    {false, {-10, 0}},
    {true, {-9, 2}},
    {false, {-10, 1}},
    {true, {-9, 3}},
    {false, {-10, 2}},
    {true, {-9, 4}},
    {false, {-10, 3}},
    {true, {-9, 5}},
    {false, {-10, 4}},
    {true, {-9, 6}},
    {false, {-10, 5}},
    {true, {-9, 7}},
    {false, {-10, 6}},
    {true, {-9, 8}},
    {false, {-10, 7}},
    {true, {-9, 9}},
    {false, {-10, 8}},
    {true, {-9, 10}},
    {false, {-10, 9}},
    {true, {-9, 11}},
    {false, {-10, 10}},
    {true, {-9, 12}},
    {false, {-10, 11}},
    {true, {-8, -12}},
    {true, {-8, -11}},
    {false, {-9, -12}},
    {true, {-8, -10}},
    {false, {-9, -11}},
    {true, {-8, -9}},
    {false, {-9, -10}},
    {true, {-8, -8}},
    {false, {-9, -9}},
    {true, {-8, -7}},
    {false, {-9, -8}},
    {true, {-8, -6}},
    {false, {-9, -7}},
    {true, {-8, -5}},
    {false, {-9, -6}},
    {true, {-8, -4}},
    {false, {-9, -5}},
    {true, {-8, -3}},
    {false, {-9, -4}},
    {true, {-8, -2}},
    {false, {-9, -3}},
    {true, {-8, -1}},
    {false, {-9, -2}},
    {true, {-8, 0}},
    {false, {-9, -1}},
    {true, {-8, 1}},
    {false, {-9, 0}},
    {true, {-8, 2}},
    {false, {-9, 1}},
    {true, {-8, 3}},
    {false, {-9, 2}},
    {true, {-8, 4}},
    {false, {-9, 3}},
    {true, {-8, 5}},
    {false, {-9, 4}},
    {true, {-8, 6}},
    {false, {-9, 5}},
    {true, {-8, 7}},
    {false, {-9, 6}},
    {true, {-8, 8}},
    {false, {-9, 7}},
    {true, {-8, 9}},
    {false, {-9, 8}},
    {true, {-8, 10}},
    {false, {-9, 9}},
    {true, {-8, 11}},
    {false, {-9, 10}},
    {true, {-8, 12}},
    {false, {-9, 11}},
    {true, {-7, -12}},
    {true, {-7, -11}},
    {false, {-8, -12}},
    {true, {-7, -10}},
    {false, {-8, -11}},
    {true, {-7, -9}},
    {false, {-8, -10}},
    {true, {-7, -8}},
    {false, {-8, -9}},
    {true, {-7, -7}},
    {false, {-8, -8}},
    {true, {-7, -6}},
    {false, {-8, -7}},
    {true, {-7, -5}},
    {false, {-8, -6}},
    {true, {-7, -4}},
    {false, {-8, -5}},
    {true, {-7, -3}},
    {false, {-8, -4}},
    {true, {-7, -2}},
    {false, {-8, -3}},
    {true, {-7, -1}},
    {false, {-8, -2}},
    {true, {-7, 0}},
    {false, {-8, -1}},
    {true, {-7, 1}},
    {false, {-8, 0}},
    {true, {-7, 2}},
    {false, {-8, 1}},
    {true, {-7, 3}},
    {false, {-8, 2}},
    {true, {-7, 4}},
    {false, {-8, 3}},
    {true, {-7, 5}},
    {false, {-8, 4}},
    {true, {-7, 6}},
    {false, {-8, 5}},
    {true, {-7, 7}},
    {false, {-8, 6}},
    {true, {-7, 8}},
    {false, {-8, 7}},
    {true, {-7, 9}},
    {false, {-8, 8}},
    {true, {-7, 10}},
    {false, {-8, 9}},
    {true, {-7, 11}},
    {false, {-8, 10}},
    {true, {-7, 12}},
    {false, {-8, 11}},
    {true, {-6, -12}},
    {true, {-6, -11}},
    {false, {-7, -12}},
    {true, {-6, -10}},
    {false, {-7, -11}},
    {true, {-6, -9}},
    {false, {-7, -10}},
    {true, {-6, -8}},
    {false, {-7, -9}},
    {true, {-6, -7}},
    {false, {-7, -8}},
    {true, {-6, -6}},
    {false, {-7, -7}},
    {true, {-6, -5}},
    {false, {-7, -6}},
    {true, {-6, -4}},
    {false, {-7, -5}},
    {true, {-6, -3}},
    {false, {-7, -4}},
    {true, {-6, -2}},
    {false, {-7, -3}},
    {true, {-6, -1}},
    {false, {-7, -2}},
    {true, {-6, 0}},
    {false, {-7, -1}},
    {true, {-6, 1}},
    {false, {-7, 0}},
    {true, {-6, 2}},
    {false, {-7, 1}},
    {true, {-6, 3}},
    {false, {-7, 2}},
    {true, {-6, 4}},
    {false, {-7, 3}},
    {true, {-6, 5}},
    {false, {-7, 4}},
    {true, {-6, 6}},
    {false, {-7, 5}},
    {true, {-6, 7}},
    {false, {-7, 6}},
    {true, {-6, 8}},
    {false, {-7, 7}},
    {true, {-6, 9}},
    {false, {-7, 8}},
    {true, {-6, 10}},
    {false, {-7, 9}},
    {true, {-6, 11}},
    {false, {-7, 10}},
    {true, {-6, 12}},
    {false, {-7, 11}},
    {true, {-5, -12}},
    {true, {-5, -11}},
    {false, {-6, -12}},
    {true, {-5, -10}},
    {false, {-6, -11}},
    {true, {-5, -9}},
    {false, {-6, -10}},
    {true, {-5, -8}},
    {false, {-6, -9}},
    {true, {-5, -7}},
    {false, {-6, -8}},
    {true, {-5, -6}},
    {false, {-6, -7}},
    {true, {-5, -5}},
    {false, {-6, -6}},
    {true, {-5, -4}},
    {false, {-6, -5}},
    {true, {-5, -3}},
    {false, {-6, -4}},
    {true, {-5, -2}},
    {false, {-6, -3}},
    {true, {-5, -1}},
    {false, {-6, -2}},
    {true, {-5, 0}},
    {false, {-6, -1}},
    {true, {-5, 1}},
    {false, {-6, 0}},
    {true, {-5, 2}},
    {false, {-6, 1}},
    {true, {-5, 3}},
    {false, {-6, 2}},
    {true, {-5, 4}},
    {false, {-6, 3}},
    {true, {-5, 5}},
    {false, {-6, 4}},
    {true, {-5, 6}},
    {false, {-6, 5}},
    {true, {-5, 7}},
    {false, {-6, 6}},
    {true, {-5, 8}},
    {false, {-6, 7}},
    {true, {-5, 9}},
    {false, {-6, 8}},
    {true, {-5, 10}},
    {false, {-6, 9}},
    {true, {-5, 11}},
    {false, {-6, 10}},
    {true, {-5, 12}},
    {false, {-6, 11}},
    {true, {-4, -12}},
    {true, {-4, -11}},
    {false, {-5, -12}},
    {true, {-4, -10}},
    {false, {-5, -11}},
    {true, {-4, -9}},
    {false, {-5, -10}},
    {true, {-4, -8}},
    {false, {-5, -9}},
    {true, {-4, -7}},
    {false, {-5, -8}},
    {true, {-4, -6}},
    {false, {-5, -7}},
    {true, {-4, -5}},
    {false, {-5, -6}},
    {true, {-4, -4}},
    {false, {-5, -5}},
    {true, {-4, -3}},
    {false, {-5, -4}},
    {true, {-4, -2}},
    {false, {-5, -3}},
    {true, {-4, -1}},
    {false, {-5, -2}},
    {true, {-4, 0}},
    {false, {-5, -1}},
    {true, {-4, 1}},
    {false, {-5, 0}},
    {true, {-4, 2}},
    {false, {-5, 1}},
    {true, {-4, 3}},
    {false, {-5, 2}},
    {true, {-4, 4}},
    {false, {-5, 3}},
    {true, {-4, 5}},
    {false, {-5, 4}},
    {true, {-4, 6}},
    {false, {-5, 5}},
    {true, {-4, 7}},
    {false, {-5, 6}},
    {true, {-4, 8}},
    {false, {-5, 7}},
    {true, {-4, 9}},
    {false, {-5, 8}},
    {true, {-4, 10}},
    {false, {-5, 9}},
    {true, {-4, 11}},
    {false, {-5, 10}},
    {true, {-4, 12}},
    {false, {-5, 11}},
    {true, {-3, -12}},
    {true, {-3, -11}},
    {false, {-4, -12}},
    {true, {-3, -10}},
    {false, {-4, -11}},
    {true, {-3, -9}},
    {false, {-4, -10}},
    {true, {-3, -8}},
    {false, {-4, -9}},
    {true, {-3, -7}},
    {false, {-4, -8}},
    {true, {-3, -6}},
    {false, {-4, -7}},
    {true, {-3, -5}},
    {false, {-4, -6}},
    {true, {-3, -4}},
    {false, {-4, -5}},
    {true, {-3, -3}},
    {false, {-4, -4}},
    {true, {-3, -2}},
    {false, {-4, -3}},
    {true, {-3, -1}},
    {false, {-4, -2}},
    {true, {-3, 0}},
    {false, {-4, -1}},
    {true, {-3, 1}},
    {false, {-4, 0}},
    {true, {-3, 2}},
    {false, {-4, 1}},
    {true, {-3, 3}},
    {false, {-4, 2}},
    {true, {-3, 4}},
    {false, {-4, 3}},
    {true, {-3, 5}},
    {false, {-4, 4}},
    {true, {-3, 6}},
    {false, {-4, 5}},
    {true, {-3, 7}},
    {false, {-4, 6}},
    {true, {-3, 8}},
    {false, {-4, 7}},
    {true, {-3, 9}},
    {false, {-4, 8}},
    {true, {-3, 10}},
    {false, {-4, 9}},
    {true, {-3, 11}},
    {false, {-4, 10}},
    {true, {-3, 12}},
    {false, {-4, 11}},
    {true, {-2, -12}},
    {true, {-2, -11}},
    {false, {-3, -12}},
    {true, {-2, -10}},
    {false, {-3, -11}},
    {true, {-2, -9}},
    {false, {-3, -10}},
    {true, {-2, -8}},
    {false, {-3, -9}},
    {true, {-2, -7}},
    {false, {-3, -8}},
    {true, {-2, -6}},
    {false, {-3, -7}},
    {true, {-2, -5}},
    {false, {-3, -6}},
    {true, {-2, -4}},
    {false, {-3, -5}},
    {true, {-2, -3}},
    {false, {-3, -4}},
    {true, {-2, -2}},
    {false, {-3, -3}},
    {true, {-2, -1}},
    {false, {-3, -2}},
    {true, {-2, 0}},
    {false, {-3, -1}},
    {true, {-2, 1}},
    {false, {-3, 0}},
    {true, {-2, 2}},
    {false, {-3, 1}},
    {true, {-2, 3}},
    {false, {-3, 2}},
    {true, {-2, 4}},
    {false, {-3, 3}},
    {true, {-2, 5}},
    {false, {-3, 4}},
    {true, {-2, 6}},
    {false, {-3, 5}},
    {true, {-2, 7}},
    {false, {-3, 6}},
    {true, {-2, 8}},
    {false, {-3, 7}},
    {true, {-2, 9}},
    {false, {-3, 8}},
    {true, {-2, 10}},
    {false, {-3, 9}},
    {true, {-2, 11}},
    {false, {-3, 10}},
    {true, {-2, 12}},
    {false, {-3, 11}},
    {true, {-1, -12}},
    {true, {-1, -11}},
    {false, {-2, -12}},
    {true, {-1, -10}},
    {false, {-2, -11}},
    {true, {-1, -9}},
    {false, {-2, -10}},
    {true, {-1, -8}},
    {false, {-2, -9}},
    {true, {-1, -7}},
    {false, {-2, -8}},
    {true, {-1, -6}},
    {false, {-2, -7}},
    {true, {-1, -5}},
    {false, {-2, -6}},
    {true, {-1, -4}},
    {false, {-2, -5}},
    {true, {-1, -3}},
    {false, {-2, -4}},
    {true, {-1, -2}},
    {false, {-2, -3}},
    {true, {-1, -1}},
    {false, {-2, -2}},
    {true, {-1, 0}},
    {false, {-2, -1}},
    {true, {-1, 1}},
    {false, {-2, 0}},
    {true, {-1, 2}},
    {false, {-2, 1}},
    {true, {-1, 3}},
    {false, {-2, 2}},
    {true, {-1, 4}},
    {false, {-2, 3}},
    {true, {-1, 5}},
    {false, {-2, 4}},
    {true, {-1, 6}},
    {false, {-2, 5}},
    {true, {-1, 7}},
    {false, {-2, 6}},
    {true, {-1, 8}},
    {false, {-2, 7}},
    {true, {-1, 9}},
    {false, {-2, 8}},
    {true, {-1, 10}},
    {false, {-2, 9}},
    {true, {-1, 11}},
    {false, {-2, 10}},
    {true, {-1, 12}},
    {false, {-2, 11}},
    {true, {0, -12}},
    {true, {0, -11}},
    {false, {-1, -12}},
    {true, {0, -10}},
    {false, {-1, -11}},
    {true, {0, -9}},
    {false, {-1, -10}},
    {true, {0, -8}},
    {false, {-1, -9}},
    {true, {0, -7}},
    {false, {-1, -8}},
    {true, {0, -6}},
    {false, {-1, -7}},
    {true, {0, -5}},
    {false, {-1, -6}},
    {true, {0, -4}},
    {false, {-1, -5}},
    {true, {0, -3}},
    {false, {-1, -4}},
    {true, {0, -2}},
    {false, {-1, -3}},
    {true, {0, -1}},
    {false, {-1, -2}},
    {true, {0, 0}},
    {false, {-1, -1}},
    {true, {0, 1}},
    {false, {-1, 0}},
    {true, {0, 2}},
    {false, {-1, 1}},
    {true, {0, 3}},
    {false, {-1, 2}},
    {true, {0, 4}},
    {false, {-1, 3}},
    {true, {0, 5}},
    {false, {-1, 4}},
    {true, {0, 6}},
    {false, {-1, 5}},
    {true, {0, 7}},
    {false, {-1, 6}},
    {true, {0, 8}},
    {false, {-1, 7}},
    {true, {0, 9}},
    {false, {-1, 8}},
    {true, {0, 10}},
    {false, {-1, 9}},
    {true, {0, 11}},
    {false, {-1, 10}},
    {true, {0, 12}},
    {false, {-1, 11}},
    {true, {1, -12}},
    {true, {1, -11}},
    {false, {0, -12}},
    {true, {1, -10}},
    {false, {0, -11}},
    {true, {1, -9}},
    {false, {0, -10}},
    {true, {1, -8}},
    {false, {0, -9}},
    {true, {1, -7}},
    {false, {0, -8}},
    {true, {1, -6}},
    {false, {0, -7}},
    {true, {1, -5}},
    {false, {0, -6}},
    {true, {1, -4}},
    {false, {0, -5}},
    {true, {1, -3}},
    {false, {0, -4}},
    {true, {1, -2}},
    {false, {0, -3}},
    {true, {1, -1}},
    {false, {0, -2}},
    {true, {1, 0}},
    {false, {0, -1}},
    {true, {1, 1}},
    {false, {0, 0}},
    {true, {1, 2}},
    {false, {0, 1}},
    {true, {1, 3}},
    {false, {0, 2}},
    {true, {1, 4}},
    {false, {0, 3}},
    {true, {1, 5}},
    {false, {0, 4}},
    {true, {1, 6}},
    {false, {0, 5}},
    {true, {1, 7}},
    {false, {0, 6}},
    {true, {1, 8}},
    {false, {0, 7}},
    {true, {1, 9}},
    {false, {0, 8}},
    {true, {1, 10}},
    {false, {0, 9}},
    {true, {1, 11}},
    {false, {0, 10}},
    {true, {1, 12}},
    {false, {0, 11}},
    {true, {2, -12}},
    {true, {2, -11}},
    {false, {1, -12}},
    {true, {2, -10}},
    {false, {1, -11}},
    {true, {2, -9}},
    {false, {1, -10}},
    {true, {2, -8}},
    {false, {1, -9}},
    {true, {2, -7}},
    {false, {1, -8}},
    {true, {2, -6}},
    {false, {1, -7}},
    {true, {2, -5}},
    {false, {1, -6}},
    {true, {2, -4}},
    {false, {1, -5}},
    {true, {2, -3}},
    {false, {1, -4}},
    {true, {2, -2}},
    {false, {1, -3}},
    {true, {2, -1}},
    {false, {1, -2}},
    {true, {2, 0}},
    {false, {1, -1}},
    {true, {2, 1}},
    {false, {1, 0}},
    {true, {2, 2}},
    {false, {1, 1}},
    {true, {2, 3}},
    {false, {1, 2}},
    {true, {2, 4}},
    {false, {1, 3}},
    {true, {2, 5}},
    {false, {1, 4}},
    {true, {2, 6}},
    {false, {1, 5}},
    {true, {2, 7}},
    {false, {1, 6}},
    {true, {2, 8}},
    {false, {1, 7}},
    {true, {2, 9}},
    {false, {1, 8}},
    {true, {2, 10}},
    {false, {1, 9}},
    {true, {2, 11}},
    {false, {1, 10}},
    {true, {2, 12}},
    {false, {1, 11}},
    {true, {3, -12}},
    {true, {3, -11}},
    {false, {2, -12}},
    {true, {3, -10}},
    {false, {2, -11}},
    {true, {3, -9}},
    {false, {2, -10}},
    {true, {3, -8}},
    {false, {2, -9}},
    {true, {3, -7}},
    {false, {2, -8}},
    {true, {3, -6}},
    {false, {2, -7}},
    {true, {3, -5}},
    {false, {2, -6}},
    {true, {3, -4}},
    {false, {2, -5}},
    {true, {3, -3}},
    {false, {2, -4}},
    {true, {3, -2}},
    {false, {2, -3}},
    {true, {3, -1}},
    {false, {2, -2}},
    {true, {3, 0}},
    {false, {2, -1}},
    {true, {3, 1}},
    {false, {2, 0}},
    {true, {3, 2}},
    {false, {2, 1}},
    {true, {3, 3}},
    {false, {2, 2}},
    {true, {3, 4}},
    {false, {2, 3}},
    {true, {3, 5}},
    {false, {2, 4}},
    {true, {3, 6}},
    {false, {2, 5}},
    {true, {3, 7}},
    {false, {2, 6}},
    {true, {3, 8}},
    {false, {2, 7}},
    {true, {3, 9}},
    {false, {2, 8}},
    {true, {3, 10}},
    {false, {2, 9}},
    {true, {3, 11}},
    {false, {2, 10}},
    {true, {3, 12}},
    {false, {2, 11}},
    {true, {4, -12}},
    {true, {4, -11}},
    {false, {3, -12}},
    {true, {4, -10}},
    {false, {3, -11}},
    {true, {4, -9}},
    {false, {3, -10}},
    {true, {4, -8}},
    {false, {3, -9}},
    {true, {4, -7}},
    {false, {3, -8}},
    {true, {4, -6}},
    {false, {3, -7}},
    {true, {4, -5}},
    {false, {3, -6}},
    {true, {4, -4}},
    {false, {3, -5}},
    {true, {4, -3}},
    {false, {3, -4}},
    {true, {4, -2}},
    {false, {3, -3}},
    {true, {4, -1}},
    {false, {3, -2}},
    {true, {4, 0}},
    {false, {3, -1}},
    {true, {4, 1}},
    {false, {3, 0}},
    {true, {4, 2}},
    {false, {3, 1}},
    {true, {4, 3}},
    {false, {3, 2}},
    {true, {4, 4}},
    {false, {3, 3}},
    {true, {4, 5}},
    {false, {3, 4}},
    {true, {4, 6}},
    {false, {3, 5}},
    {true, {4, 7}},
    {false, {3, 6}},
    {true, {4, 8}},
    {false, {3, 7}},
    {true, {4, 9}},
    {false, {3, 8}},
    {true, {4, 10}},
    {false, {3, 9}},
    {true, {4, 11}},
    {false, {3, 10}},
    {true, {4, 12}},
    {false, {3, 11}},
    {true, {5, -12}},
    {true, {5, -11}},
    {false, {4, -12}},
    {true, {5, -10}},
    {false, {4, -11}},
    {true, {5, -9}},
    {false, {4, -10}},
    {true, {5, -8}},
    {false, {4, -9}},
    {true, {5, -7}},
    {false, {4, -8}},
    {true, {5, -6}},
    {false, {4, -7}},
    {true, {5, -5}},
    {false, {4, -6}},
    {true, {5, -4}},
    {false, {4, -5}},
    {true, {5, -3}},
    {false, {4, -4}},
    {true, {5, -2}},
    {false, {4, -3}},
    {true, {5, -1}},
    {false, {4, -2}},
    {true, {5, 0}},
    {false, {4, -1}},
    {true, {5, 1}},
    {false, {4, 0}},
    {true, {5, 2}},
    {false, {4, 1}},
    {true, {5, 3}},
    {false, {4, 2}},
    {true, {5, 4}},
    {false, {4, 3}},
    {true, {5, 5}},
    {false, {4, 4}},
    {true, {5, 6}},
    {false, {4, 5}},
    {true, {5, 7}},
    {false, {4, 6}},
    {true, {5, 8}},
    {false, {4, 7}},
    {true, {5, 9}},
    {false, {4, 8}},
    {true, {5, 10}},
    {false, {4, 9}},
    {true, {5, 11}},
    {false, {4, 10}},
    {true, {5, 12}},
    {false, {4, 11}},
    {true, {6, -12}},
    {true, {6, -11}},
    {false, {5, -12}},
    {true, {6, -10}},
    {false, {5, -11}},
    {true, {6, -9}},
    {false, {5, -10}},
    {true, {6, -8}},
    {false, {5, -9}},
    {true, {6, -7}},
    {false, {5, -8}},
    {true, {6, -6}},
    {false, {5, -7}},
    {true, {6, -5}},
    {false, {5, -6}},
    {true, {6, -4}},
    {false, {5, -5}},
    {true, {6, -3}},
    {false, {5, -4}},
    {true, {6, -2}},
    {false, {5, -3}},
    {true, {6, -1}},
    {false, {5, -2}},
    {true, {6, 0}},
    {false, {5, -1}},
    {true, {6, 1}},
    {false, {5, 0}},
    {true, {6, 2}},
    {false, {5, 1}},
    {true, {6, 3}},
    {false, {5, 2}},
    {true, {6, 4}},
    {false, {5, 3}},
    {true, {6, 5}},
    {false, {5, 4}},
    {true, {6, 6}},
    {false, {5, 5}},
    {true, {6, 7}},
    {false, {5, 6}},
    {true, {6, 8}},
    {false, {5, 7}},
    {true, {6, 9}},
    {false, {5, 8}},
    {true, {6, 10}},
    {false, {5, 9}},
    {true, {6, 11}},
    {false, {5, 10}},
    {true, {6, 12}},
    {false, {5, 11}},
    {true, {7, -12}},
    {true, {7, -11}},
    {false, {6, -12}},
    {true, {7, -10}},
    {false, {6, -11}},
    {true, {7, -9}},
    {false, {6, -10}},
    {true, {7, -8}},
    {false, {6, -9}},
    {true, {7, -7}},
    {false, {6, -8}},
    {true, {7, -6}},
    {false, {6, -7}},
    {true, {7, -5}},
    {false, {6, -6}},
    {true, {7, -4}},
    {false, {6, -5}},
    {true, {7, -3}},
    {false, {6, -4}},
    {true, {7, -2}},
    {false, {6, -3}},
    {true, {7, -1}},
    {false, {6, -2}},
    {true, {7, 0}},
    {false, {6, -1}},
    {true, {7, 1}},
    {false, {6, 0}},
    {true, {7, 2}},
    {false, {6, 1}},
    {true, {7, 3}},
    {false, {6, 2}},
    {true, {7, 4}},
    {false, {6, 3}},
    {true, {7, 5}},
    {false, {6, 4}},
    {true, {7, 6}},
    {false, {6, 5}},
    {true, {7, 7}},
    {false, {6, 6}},
    {true, {7, 8}},
    {false, {6, 7}},
    {true, {7, 9}},
    {false, {6, 8}},
    {true, {7, 10}},
    {false, {6, 9}},
    {true, {7, 11}},
    {false, {6, 10}},
    {true, {7, 12}},
    {false, {6, 11}},
    {true, {8, -12}},
    {true, {8, -11}},
    {false, {7, -12}},
    {true, {8, -10}},
    {false, {7, -11}},
    {true, {8, -9}},
    {false, {7, -10}},
    {true, {8, -8}},
    {false, {7, -9}},
    {true, {8, -7}},
    {false, {7, -8}},
    {true, {8, -6}},
    {false, {7, -7}},
    {true, {8, -5}},
    {false, {7, -6}},
    {true, {8, -4}},
    {false, {7, -5}},
    {true, {8, -3}},
    {false, {7, -4}},
    {true, {8, -2}},
    {false, {7, -3}},
    {true, {8, -1}},
    {false, {7, -2}},
    {true, {8, 0}},
    {false, {7, -1}},
    {true, {8, 1}},
    {false, {7, 0}},
    {true, {8, 2}},
    {false, {7, 1}},
    {true, {8, 3}},
    {false, {7, 2}},
    {true, {8, 4}},
    {false, {7, 3}},
    {true, {8, 5}},
    {false, {7, 4}},
    {true, {8, 6}},
    {false, {7, 5}},
    {true, {8, 7}},
    {false, {7, 6}},
    {true, {8, 8}},
    {false, {7, 7}},
    {true, {8, 9}},
    {false, {7, 8}},
    {true, {8, 10}},
    {false, {7, 9}},
    {true, {8, 11}},
    {false, {7, 10}},
    {true, {8, 12}},
    {false, {7, 11}},
    {true, {9, -12}},
    {true, {9, -11}},
    {false, {8, -12}},
    {true, {9, -10}},
    {false, {8, -11}},
    {true, {9, -9}},
    {false, {8, -10}},
    {true, {9, -8}},
    {false, {8, -9}},
    {true, {9, -7}},
    {false, {8, -8}},
    {true, {9, -6}},
    {false, {8, -7}},
    {true, {9, -5}},
    {false, {8, -6}},
    {true, {9, -4}},
    {false, {8, -5}},
    {true, {9, -3}},
    {false, {8, -4}},
    {true, {9, -2}},
    {false, {8, -3}},
    {true, {9, -1}},
    {false, {8, -2}},
    {true, {9, 0}},
    {false, {8, -1}},
    {true, {9, 1}},
    {false, {8, 0}},
    {true, {9, 2}},
    {false, {8, 1}},
    {true, {9, 3}},
    {false, {8, 2}},
    {true, {9, 4}},
    {false, {8, 3}},
    {true, {9, 5}},
    {false, {8, 4}},
    {true, {9, 6}},
    {false, {8, 5}},
    {true, {9, 7}},
    {false, {8, 6}},
    {true, {9, 8}},
    {false, {8, 7}},
    {true, {9, 9}},
    {false, {8, 8}},
    {true, {9, 10}},
    {false, {8, 9}},
    {true, {9, 11}},
    {false, {8, 10}},
    {true, {9, 12}},
    {false, {8, 11}},
    {true, {10, -12}},
    {true, {10, -11}},
    {false, {9, -12}},
    {true, {10, -10}},
    {false, {9, -11}},
    {true, {10, -9}},
    {false, {9, -10}},
    {true, {10, -8}},
    {false, {9, -9}},
    {true, {10, -7}},
    {false, {9, -8}},
    {true, {10, -6}},
    {false, {9, -7}},
    {true, {10, -5}},
    {false, {9, -6}},
    {true, {10, -4}},
    {false, {9, -5}},
    {true, {10, -3}},
    {false, {9, -4}},
    {true, {10, -2}},
    {false, {9, -3}},
    {true, {10, -1}},
    {false, {9, -2}},
    {true, {10, 0}},
    {false, {9, -1}},
    {true, {10, 1}},
    {false, {9, 0}},
    {true, {10, 2}},
    {false, {9, 1}},
    {true, {10, 3}},
    {false, {9, 2}},
    {true, {10, 4}},
    {false, {9, 3}},
    {true, {10, 5}},
    {false, {9, 4}},
    {true, {10, 6}},
    {false, {9, 5}},
    {true, {10, 7}},
    {false, {9, 6}},
    {true, {10, 8}},
    {false, {9, 7}},
    {true, {10, 9}},
    {false, {9, 8}},
    {true, {10, 10}},
    {false, {9, 9}},
    {true, {10, 11}},
    {false, {9, 10}},
    {true, {10, 12}},
    {false, {9, 11}},
    {true, {11, -12}},
    {true, {11, -11}},
    {false, {10, -12}},
    {true, {11, -10}},
    {false, {10, -11}},
    {true, {11, -9}},
    {false, {10, -10}},
    {true, {11, -8}},
    {false, {10, -9}},
    {true, {11, -7}},
    {false, {10, -8}},
    {true, {11, -6}},
    {false, {10, -7}},
    {true, {11, -5}},
    {false, {10, -6}},
    {true, {11, -4}},
    {false, {10, -5}},
    {true, {11, -3}},
    {false, {10, -4}},
    {true, {11, -2}},
    {false, {10, -3}},
    {true, {11, -1}},
    {false, {10, -2}},
    {true, {11, 0}},
    {false, {10, -1}},
    {true, {11, 1}},
    {false, {10, 0}},
    {true, {11, 2}},
    {false, {10, 1}},
    {true, {11, 3}},
    {false, {10, 2}},
    {true, {11, 4}},
    {false, {10, 3}},
    {true, {11, 5}},
    {false, {10, 4}},
    {true, {11, 6}},
    {false, {10, 5}},
    {true, {11, 7}},
    {false, {10, 6}},
    {true, {11, 8}},
    {false, {10, 7}},
    {true, {11, 9}},
    {false, {10, 8}},
    {true, {11, 10}},
    {false, {10, 9}},
    {true, {11, 11}},
    {false, {10, 10}},
    {true, {11, 12}},
    {false, {10, 11}},
    {true, {12, -12}},
    {true, {12, -11}},
    {false, {11, -12}},
    {true, {12, -10}},
    {false, {11, -11}},
    {true, {12, -9}},
    {false, {11, -10}},
    {true, {12, -8}},
    {false, {11, -9}},
    {true, {12, -7}},
    {false, {11, -8}},
    {true, {12, -6}},
    {false, {11, -7}},
    {true, {12, -5}},
    {false, {11, -6}},
    {true, {12, -4}},
    {false, {11, -5}},
    {true, {12, -3}},
    {false, {11, -4}},
    {true, {12, -2}},
    {false, {11, -3}},
    {true, {12, -1}},
    {false, {11, -2}},
    {true, {12, 0}},
    {false, {11, -1}},
    {true, {12, 1}},
    {false, {11, 0}},
    {true, {12, 2}},
    {false, {11, 1}},
    {true, {12, 3}},
    {false, {11, 2}},
    {true, {12, 4}},
    {false, {11, 3}},
    {true, {12, 5}},
    {false, {11, 4}},
    {true, {12, 6}},
    {false, {11, 5}},
    {true, {12, 7}},
    {false, {11, 6}},
    {true, {12, 8}},
    {false, {11, 7}},
    {true, {12, 9}},
    {false, {11, 8}},
    {true, {12, 10}},
    {false, {11, 9}},
    {true, {12, 11}},
    {false, {11, 10}},
    {true, {12, 12}},
    {false, {11, 11}}
};

int main() {
    const char *userProfile = std::getenv("USERPROFILE");
    if (!userProfile) {
        std::cerr << "USERPROFILE environment variable not set!\n";
        return 1;
    }
    fs::path dirPath = fs::path(userProfile)
                       / "CLionProjects"
                       / "LegacyChunkViewer";
    std::string dirName = dirPath.string();
    std::cout << "Using \"" + dirName + "\"...\n\n";
    fs::path filePath = dirPath / "build" / "chunks" / "chunkdata.bin";


    Biome::registerBiomes();
    auto console = lce::CONSOLE::WIIU;
    auto version = LCEVERSION::ELYTRA;
    // -6651998285536156346
    // mega taiga test 615831156172857837
    Generator g(console, version, 615831156172857837, lce::WORLDSIZE::CLASSIC, lce::BIOMESCALE::SMALL);

    // 3 13 for seed -101, 8 15 for seed 1, 11 16 or 15 5 for seed 27184353441555
    int X_WIDTH = 27;
    int Z_WIDTH = 27;
    int X_CENTER = 0;
    int Z_CENTER = 0;

    auto world = World(&g);
    world.generateMineshafts();
    world.generateVillages();
    world.generateStrongholds();
    //world.getOrCreateChunk({X_CENTER, Z_CENTER});
    world.decorateChunks({X_CENTER, Z_CENTER}, X_WIDTH);

    // const lce::blocks::Block* block = world.getBlock({-215, 69, 118});
    // std::cout << block->getID() << " " << block->getDataTag() << "\n";


    std::ofstream file(filePath.string(), std::ios::binary);
    if (!file) {
        std::cerr << "Error opening file for writing: " << filePath << std::endl;
        return -1;
    }

    int64_t worldSeed = g.getWorldSeed();

    file.write(reinterpret_cast<const char *>(&worldSeed), sizeof(worldSeed));
    file.write(reinterpret_cast<const char *>(&X_CENTER), sizeof(X_CENTER));
    file.write(reinterpret_cast<const char *>(&Z_CENTER), sizeof(Z_CENTER));
    file.write(reinterpret_cast<const char *>(&X_WIDTH), sizeof(X_WIDTH));
    file.write(reinterpret_cast<const char *>(&Z_WIDTH), sizeof(Z_WIDTH));

    /*for (auto& testChunk : chunkOrder) {
        if (testChunk.first)
            world.getOrCreateChunk(testChunk.second);
        else {
            auto* chunk = world.getOrCreateChunk(testChunk.second);
            Chunk::populateChunk(world, g, testChunk.second.x, testChunk.second.z);
            file.write(reinterpret_cast<const char *>(&testChunk.second.x), sizeof(testChunk.second.x));
            file.write(reinterpret_cast<const char *>(&testChunk.second.z), sizeof(testChunk.second.z));

            file.write(reinterpret_cast<const char *>(chunk->blocks), sizeof(chunk->blocks));
        }
    }*/

    for (int cx = -(X_WIDTH) + X_CENTER; cx < X_WIDTH + X_CENTER - 1; cx++) {
        for (int cz = -(Z_WIDTH) + Z_CENTER; cz < Z_WIDTH + Z_CENTER - 1; cz++) {
            auto *chunk = world.getChunk({cx, cz});
            if (!chunk) {
                std::cerr << "Error getting chunk: " << cx << ", " << cz << std::endl;
                continue;
            }

            // replace all stone with air
            // for (int i = 0; i < 16 * 16 * 256; i++) {
            //     if ((chunk->getBlockAtIndex(i) >> 4) == 1 && (chunk->getBlockAtIndex(i) & 15) == 0) {
            //         chunk->blocks[i] = 0;
            //     }
            // }

            // useful for set certain blocks in the world
            /*
            //set all the blocks to all the blocks available
            lce::registry::BlockRegistry blocks;
            blocks.setup();
            int x = 0;
            int y = 0;
            int z = 0;
            for (auto block : blocks.REGISTRY.getAllValues()) {
                world->setBlock(x, y, z, block->object->getID(), block->object->getDataTag());
                x+=2;
                if (x == 16) {
                    x = 0;
                    z+=2;
                    if (z == 16) {
                        z = 0;
                        y+=2;
                    }
                }
            }*/


            file.write(reinterpret_cast<const char *>(&cx), sizeof(cx));
            file.write(reinterpret_cast<const char *>(&cz), sizeof(cz));

            file.write(reinterpret_cast<const char *>(chunk->blocks), sizeof(chunk->blocks));

            if (!file) {
                std::cerr << "Error writing to file: " << filePath << std::endl;
            }
        }
    }

    return 0;
}
